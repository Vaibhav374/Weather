<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Simple Weather</title>
  <style>
    body{font-family:Arial,Helvetica,sans-serif;background:#eef2f5;color:#111;display:flex;align-items:center;justify-content:center;height:100vh;margin:0}
    .wrap{width:320px;padding:18px;border-radius:8px;background:#fff;box-shadow:0 6px 18px rgba(0,0,0,0.08)}
    input{width:100%;padding:10px;border:1px solid #cfd8e3;border-radius:6px;margin-bottom:8px;box-sizing:border-box}
    button{width:100%;padding:10px;border:none;background:#1976d2;color:#fff;border-radius:6px;cursor:pointer}
    .result{margin-top:12px;padding:10px;background:#f7fbff;border-radius:6px}
    .err{color:#b00020;margin-top:8px}
    .small{font-size:13px;color:#556}
  </style>
</head>
<body>
  <div class="wrap">
    <h3 style="margin:0 0 10px 0">Simple Weather</h3>
    <input id="loc" placeholder="City name, ZIP or lat,long (e.g. London)" />
    <button id="btn">Get</button>
    <div id="msg" class="small"></div>
    <div id="out" class="result" style="display:none">
      <div><strong id="place"></strong></div>
      <div style="font-size:24px;margin-top:6px"><span id="temp">--°C</span> · <span id="cond">—</span></div>
      <div class="small" id="more"></div>
    </div>
    <div id="err" class="err" role="alert"></div>
  </div>

  <script>
    // Simple weather app
    const API_KEY = 'cb88a33cd2d54ab89b0143913252311'; // your provided key
    const BASE = 'https://api.weatherapi.com/v1';

    const locInput = document.getElementById('loc');
    const btn = document.getElementById('btn');
    const out = document.getElementById('out');
    const place = document.getElementById('place');
    const temp = document.getElementById('temp');
    const cond = document.getElementById('cond');
    const more = document.getElementById('more');
    const msg = document.getElementById('msg');
    const err = document.getElementById('err');

    async function getWeather(query){
      err.textContent = '';
      msg.textContent = 'Loading…';
      out.style.display = 'none';

      if(!query || !query.trim()){
        msg.textContent = '';
        err.textContent = 'Please enter a location.';
        return;
      }

      try {
        const url = `${BASE}/current.json?key=${encodeURIComponent(API_KEY)}&q=${encodeURIComponent(query)}&aqi=no`;
        const res = await fetch(url);
        if(!res.ok){
          const body = await res.json().catch(()=>null);
          throw new Error(body && body.error && body.error.message ? body.error.message : 'Network error');
        }
        const data = await res.json();
        // show basic fields
        place.textContent = `${data.location.name}${data.location.region ? ', ' + data.location.region : ''} — ${data.location.country}`;
        temp.textContent = Math.round(data.current.temp_c) + '°C';
        cond.textContent = data.current.condition.text;
        more.textContent = `Feels like ${Math.round(data.current.feelslike_c)}°C · Humidity ${data.current.humidity}% · Wind ${data.current.wind_kph} kph`;
        out.style.display = 'block';
        msg.textContent = '';
      } catch (e) {
        err.textContent = 'Error: ' + e.message;
        msg.textContent = '';
      }
    }

    btn.addEventListener('click', ()=> getWeather(locInput.value));
    locInput.addEventListener('keydown', (e)=> { if(e.key === 'Enter') getWeather(locInput.value); });

    // optional: preload example
    // locInput.value = 'London';
    // getWeather('London');
  </script>
</body>
</html>
